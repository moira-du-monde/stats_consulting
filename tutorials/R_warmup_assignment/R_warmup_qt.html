<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Moira">

<title>R_warmup_assignment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="R_warmup_qt_files/libs/clipboard/clipboard.min.js"></script>
<script src="R_warmup_qt_files/libs/quarto-html/quarto.js"></script>
<script src="R_warmup_qt_files/libs/quarto-html/popper.min.js"></script>
<script src="R_warmup_qt_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="R_warmup_qt_files/libs/quarto-html/anchor.min.js"></script>
<link href="R_warmup_qt_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="R_warmup_qt_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="R_warmup_qt_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="R_warmup_qt_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="R_warmup_qt_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R_warmup_assignment</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Moira </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<p>NOTE: Use base R except where instructed otherwise.</p>
<section id="q1." class="level2">
<h2 class="anchored" data-anchor-id="q1.">Q1.</h2>
<p>What version of R are you using?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.1.2 (2021-11-01)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 22000)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] digest_0.6.29     jsonlite_1.8.0    magrittr_2.0.3    evaluate_0.16    
 [5] rlang_1.0.4       stringi_1.7.6     cli_3.3.0         rstudioapi_0.14  
 [9] rmarkdown_2.16    tools_4.1.2       stringr_1.4.1     htmlwidgets_1.5.4
[13] xfun_0.32         yaml_2.3.5        fastmap_1.1.0     compiler_4.1.2   
[17] htmltools_0.5.3   knitr_1.40       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.info</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          sysname           release           version          nodename 
        "Windows"          "10 x64"     "build 22000" "DESKTOP-CD1V4US" 
          machine             login              user    effective_user 
         "x86-64"           "Moira"           "Moira"           "Moira" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">session_info</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>- Session info ---------------------------------------------------------------
 setting  value
 version  R version 4.1.2 (2021-11-01)
 os       Windows 10 x64 (build 22000)
 system   x86_64, mingw32
 ui       RTerm
 language (EN)
 collate  English_United States.1252
 ctype    English_United States.1252
 tz       America/New_York
 date     2022-09-01
 pandoc   2.18 @ C:/Program Files/RStudio/bin/quarto/bin/tools/ (via rmarkdown)

- Packages -------------------------------------------------------------------
 package     * version date (UTC) lib source
 cachem        1.0.6   2021-08-19 [1] CRAN (R 4.1.3)
 callr         3.7.2   2022-08-22 [1] CRAN (R 4.1.3)
 cli           3.3.0   2022-04-25 [1] CRAN (R 4.1.3)
 crayon        1.5.1   2022-03-26 [1] CRAN (R 4.1.3)
 devtools      2.4.4   2022-07-20 [1] CRAN (R 4.1.3)
 digest        0.6.29  2021-12-01 [1] CRAN (R 4.1.3)
 ellipsis      0.3.2   2021-04-29 [1] CRAN (R 4.1.3)
 evaluate      0.16    2022-08-09 [1] CRAN (R 4.1.3)
 fastmap       1.1.0   2021-01-25 [1] CRAN (R 4.1.3)
 fs            1.5.2   2021-12-08 [1] CRAN (R 4.1.3)
 glue          1.6.2   2022-02-24 [1] CRAN (R 4.1.3)
 htmltools     0.5.3   2022-07-18 [1] CRAN (R 4.1.3)
 htmlwidgets   1.5.4   2021-09-08 [1] CRAN (R 4.1.3)
 httpuv        1.6.5   2022-01-05 [1] CRAN (R 4.1.3)
 jsonlite      1.8.0   2022-02-22 [1] CRAN (R 4.1.3)
 knitr         1.40    2022-08-24 [1] CRAN (R 4.1.3)
 later         1.3.0   2021-08-18 [1] CRAN (R 4.1.3)
 lifecycle     1.0.1   2021-09-24 [1] CRAN (R 4.1.3)
 magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.1.3)
 memoise       2.0.1   2021-11-26 [1] CRAN (R 4.1.3)
 mime          0.12    2021-09-28 [1] CRAN (R 4.1.1)
 miniUI        0.1.1.1 2018-05-18 [1] CRAN (R 4.1.3)
 pkgbuild      1.3.1   2021-12-20 [1] CRAN (R 4.1.3)
 pkgload       1.3.0   2022-06-27 [1] CRAN (R 4.1.3)
 prettyunits   1.1.1   2020-01-24 [1] CRAN (R 4.1.3)
 processx      3.7.0   2022-07-07 [1] CRAN (R 4.1.3)
 profvis       0.3.7   2020-11-02 [1] CRAN (R 4.1.3)
 promises      1.2.0.1 2021-02-11 [1] CRAN (R 4.1.3)
 ps            1.7.1   2022-06-18 [1] CRAN (R 4.1.3)
 purrr         0.3.4   2020-04-17 [1] CRAN (R 4.1.3)
 R6            2.5.1   2021-08-19 [1] CRAN (R 4.1.3)
 Rcpp          1.0.9   2022-07-08 [1] CRAN (R 4.1.3)
 remotes       2.4.2   2021-11-30 [1] CRAN (R 4.1.3)
 rlang         1.0.4   2022-07-12 [1] CRAN (R 4.1.3)
 rmarkdown     2.16    2022-08-24 [1] CRAN (R 4.1.2)
 rstudioapi    0.14    2022-08-22 [1] CRAN (R 4.1.3)
 sessioninfo   1.2.2   2021-12-06 [1] CRAN (R 4.1.3)
 shiny         1.7.2   2022-07-19 [1] CRAN (R 4.1.3)
 stringi       1.7.6   2021-11-29 [1] CRAN (R 4.1.2)
 stringr       1.4.1   2022-08-20 [1] CRAN (R 4.1.3)
 urlchecker    1.0.1   2021-11-30 [1] CRAN (R 4.1.3)
 usethis       2.1.6   2022-05-25 [1] CRAN (R 4.1.3)
 xfun          0.32    2022-08-10 [1] CRAN (R 4.1.3)
 xtable        1.8-4   2019-04-21 [1] CRAN (R 4.1.3)
 yaml          2.3.5   2022-02-21 [1] CRAN (R 4.1.3)

 [1] C:/Users/Moira/Documents/R/win-library/4.1
 [2] C:/Program Files/R/R-4.1.2/library

------------------------------------------------------------------------------</code></pre>
</div>
</div>
</section>
<section id="q2." class="level2">
<h2 class="anchored" data-anchor-id="q2.">Q2.</h2>
<p>Import csv or txt files using base R (data files available in Github Repo).</p>
<p>After importing the data frame, run it through the functions str() and summary(). What are these showing you?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(read.csv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (file, header = TRUE, sep = ",", quote = "\"", dec = ".", 
    fill = TRUE, comment.char = "", ...) 
NULL</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">header =</span> T, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>), <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df) <span class="co"># output is a table with variable names and their data types (e.g., int, num, chr)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   435 obs. of  32 variables:
 $ ids         : int  20055 20075 20087 20088 20135 20161 20188 20215 20250 20354 ...
 $ bday        : Factor w/ 361 levels "1990-09-19","1993-03-29",..: 26 NA NA 330 159 323 358 72 17 218 ...
 $ Gender      : int  0 0 0 1 0 1 0 0 NA 1 ...
 $ Age         : int  24 NA NA 18 20 18 18 22 24 20 ...
 $ Athlete     : int  1 0 0 0 0 1 0 0 0 0 ...
 $ Smoking     : int  1 1 1 NA 1 1 1 2 1 1 ...
 $ Height      : num  64.5 74 68.5 67.5 75 73.5 76 76 66.5 62.5 ...
 $ Weight      : num  128 196 153 158 152 ...
 $ Mile        : int  494 441 NA 514 450 403 NA 563 653 684 ...
 $ MileMinDur  : Factor w/ 244 levels "0:05:01","0:05:05",..: 134 93 NA 147 101 64 NA 170 209 219 ...
 $ Rank        : int  3 1 2 1 3 2 1 1 3 2 ...
 $ Major       : Factor w/ 240 levels "  spanish language education",..: NA 140 NA 18 22 173 NA NA NA 45 ...
 $ expgradyear : int  2022 2024 2024 2024 2020 2025 2022 2024 NA 2023 ...
 $ expgradmonth: Factor w/ 2 levels "December","May": 1 1 2 1 1 2 1 2 NA 2 ...
 $ State       : Factor w/ 2 levels "In state","Out of state": 1 1 1 1 1 2 1 1 1 1 ...
 $ LiveOnCampus: int  0 0 1 1 0 0 1 1 0 1 ...
 $ HowCommute  : int  3 3 NA NA 3 3 NA NA 4 NA ...
 $ CommuteTime : int  31 25 NA NA 25 24 NA NA 35 NA ...
 $ SleepTime   : int  5 7 5 NA NA 6 8 12 6 8 ...
 $ StudyTime   : int  6 2 6 8 13 9 6 4 12 5 ...
 $ English     : int  64 74 87 90 71 68 84 78 81 93 ...
 $ Reading     : int  79 67 89 94 70 64 78 75 NA 86 ...
 $ Math        : int  67 72 76 66 66 60 69 NA 72 70 ...
 $ Science     : int  65 73 81 69 68 61 78 62 66 67 ...
 $ E_1         : int  3 4 4 3 5 3 5 4 3 2 ...
 $ E_6         : int  4 3 5 5 1 4 2 5 2 5 ...
 $ E_11        : int  4 3 2 3 7 4 4 3 4 2 ...
 $ E_16        : int  3 3 3 1 5 2 4 2 4 4 ...
 $ E_21        : int  3 5 5 5 2 2 3 4 4 5 ...
 $ E_26        : int  2 3 3 3 5 3 3 4 3 2 ...
 $ E_31        : int  4 4 4 5 1 4 3 5 3 5 ...
 $ E_36        : int  3 2 4 3 7 3 4 3 2 2 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df) <span class="co"># for integer and number variables, output is the min, max, median, mean, 25th and 75th percentiles, and number of NAs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ids                bday         Gender            Age       
 Min.   :20055   1999-03-20:  3   Min.   :0.0000   Min.   :18.00  
 1st Qu.:27297   1999-04-22:  3   1st Qu.:0.0000   1st Qu.:19.00  
 Median :34028   2000-05-09:  3   Median :1.0000   Median :20.00  
 Mean   :34497   1995-04-12:  2   Mean   :0.5169   Mean   :20.25  
 3rd Qu.:40902   1998-03-14:  2   3rd Qu.:1.0000   3rd Qu.:21.00  
 Max.   :49977   (Other)   :378   Max.   :1.0000   Max.   :28.00  
                 NA's      : 44   NA's   :21       NA's   :44     
    Athlete       Smoking          Height          Weight           Mile      
 Min.   :0.0   Min.   :1.000   Min.   :58.50   Min.   : 94.5   Min.   :301.0  
 1st Qu.:0.0   1st Qu.:1.000   1st Qu.:65.00   1st Qu.:136.9   1st Qu.:401.0  
 Median :0.0   Median :1.000   Median :68.50   Median :157.0   Median :463.0  
 Mean   :0.4   Mean   :1.294   Mean   :68.43   Mean   :160.0   Mean   :489.2  
 3rd Qu.:1.0   3rd Qu.:1.000   3rd Qu.:72.00   3rd Qu.:181.1   3rd Qu.:558.0  
 Max.   :1.0   Max.   :3.000   Max.   :78.00   Max.   :261.5   Max.   :896.0  
               NA's   :30      NA's   :27      NA's   :47      NA's   :14     
   MileMinDur       Rank                         Major      expgradyear  
 0:07:33:  6   Min.   :1.000   nursing              : 10   Min.   :2019  
 0:07:07:  5   1st Qu.:1.000   journalism           :  4   1st Qu.:2022  
 0:06:24:  4   Median :2.000   Aerospace engineering:  3   Median :2023  
 0:06:41:  4   Mean   :2.059   management           :  3   Mean   :2023  
 0:07:14:  4   3rd Qu.:3.000   Nursing              :  3   3rd Qu.:2024  
 (Other):398   Max.   :4.000   (Other)              :254   Max.   :2026  
 NA's   : 14   NA's   :13      NA's                 :158   NA's   :60    
   expgradmonth          State      LiveOnCampus      HowCommute   
 December:204   In state    :315   Min.   :0.0000   Min.   :1.000  
 May     :171   Out of state: 94   1st Qu.:0.0000   1st Qu.:3.000  
 NA's    : 60   NA's        : 26   Median :0.0000   Median :3.000  
                                   Mean   :0.4869   Mean   :2.765  
                                   3rd Qu.:1.0000   3rd Qu.:3.000  
                                   Max.   :1.0000   Max.   :4.000  
                                   NA's   :14       NA's   :209    
  CommuteTime      SleepTime        StudyTime         English      
 Min.   : 2.00   Min.   : 3.000   Min.   : 0.000   Min.   : 61.00  
 1st Qu.:18.00   1st Qu.: 6.000   1st Qu.: 4.000   1st Qu.: 78.00  
 Median :25.00   Median : 7.000   Median : 6.000   Median : 82.00  
 Mean   :23.65   Mean   : 7.366   Mean   : 7.089   Mean   : 82.28  
 3rd Qu.:30.00   3rd Qu.: 9.000   3rd Qu.: 9.000   3rd Qu.: 87.00  
 Max.   :43.00   Max.   :14.000   Max.   :25.000   Max.   :104.00  
 NA's   :209     NA's   :25       NA's   :43       NA's   :23      
    Reading            Math          Science           E_1       
 Min.   : 61.00   Min.   :37.00   Min.   :47.00   Min.   :1.000  
 1st Qu.: 75.00   1st Qu.:61.00   1st Qu.:63.00   1st Qu.:4.000  
 Median : 81.00   Median :66.00   Median :68.00   Median :4.000  
 Mean   : 80.68   Mean   :66.28   Mean   :67.64   Mean   :4.326  
 3rd Qu.: 86.00   3rd Qu.:71.50   3rd Qu.:72.00   3rd Qu.:5.000  
 Max.   :104.00   Max.   :92.00   Max.   :91.00   Max.   :7.000  
 NA's   :18       NA's   :24      NA's   :21                     
      E_6             E_11           E_16            E_21            E_26      
 Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:3.000   1st Qu.:3.000  
 Median :3.000   Median :4.00   Median :4.000   Median :3.000   Median :4.000  
 Mean   :3.218   Mean   :4.03   Mean   :3.821   Mean   :3.503   Mean   :3.945  
 3rd Qu.:4.000   3rd Qu.:5.00   3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :7.000   Max.   :7.00   Max.   :7.000   Max.   :6.000   Max.   :7.000  
                                                                               
      E_31            E_36      
 Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.000  
 Median :3.000   Median :4.000  
 Mean   :3.147   Mean   :4.232  
 3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :6.000   Max.   :7.000  
                                </code></pre>
</div>
</div>
<p>How many missing values are there for variable State?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># can just refer to the printed summary, but this code works too:</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(df<span class="sc">$</span>State))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26</code></pre>
</div>
</div>
</section>
<section id="q3." class="level2">
<h2 class="anchored" data-anchor-id="q3.">Q3.</h2>
<p>Import csv using readr::read_csv. Which function did you use to do this?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr) <span class="co"># versus readr::read_csv, latter used to load single internal function</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.1.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(read_csv) <span class="co">#no stringsasfactors arg, so convert with added step base R</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (file, col_names = TRUE, col_types = NULL, col_select = NULL, 
    id = NULL, locale = default_locale(), na = c("", "NA"), quoted_na = TRUE, 
    quote = "\"", comment = "", trim_ws = TRUE, skip = 0, n_max = Inf, 
    guess_max = min(1000, n_max), name_repair = "unique", num_threads = readr_threads(), 
    progress = show_progress(), show_col_types = should_show_types(), 
    skip_empty_rows = TRUE, lazy = should_read_lazy()) 
NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">na=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 435 Columns: 32
-- Column specification --------------------------------------------------------
Delimiter: ","
chr   (3): Major, expgradmonth, State
dbl  (27): ids, Gender, Age, Athlete, Smoking, Height, Weight, Mile, Rank, e...
date  (1): bday
time  (1): MileMinDur

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>State <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>State)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Can also use dplyr to accomplish this:</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># library(dplyr) # load dplyr</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- df %&gt;% </span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    mutate_if(is.character, factor) #convert strings to factors</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 32
    ids bday       Gender   Age Athlete Smoking Height Weight  Mile MileMinDur
  &lt;dbl&gt; &lt;date&gt;      &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;time&gt;    
1 20055 1995-08-06      0    24       1       1   64.5   128.   494 08'14"    
2 20075 NA              0    NA       0       1   74     196.   441 07'21"    
3 20087 NA              0    NA       0       1   68.5   153     NA    NA     
4 20088 2001-01-08      1    18       0      NA   67.5   158.   514 08'34"    
5 20135 1998-12-26      0    20       0       1   75     152    450 07'30"    
6 20161 2000-12-02      1    18       1       1   73.5   178.   403 06'43"    
# ... with 22 more variables: Rank &lt;dbl&gt;, Major &lt;chr&gt;, expgradyear &lt;dbl&gt;,
#   expgradmonth &lt;chr&gt;, State &lt;fct&gt;, LiveOnCampus &lt;dbl&gt;, HowCommute &lt;dbl&gt;,
#   CommuteTime &lt;dbl&gt;, SleepTime &lt;dbl&gt;, StudyTime &lt;dbl&gt;, English &lt;dbl&gt;,
#   Reading &lt;dbl&gt;, Math &lt;dbl&gt;, Science &lt;dbl&gt;, E_1 &lt;dbl&gt;, E_6 &lt;dbl&gt;, E_11 &lt;dbl&gt;,
#   E_16 &lt;dbl&gt;, E_21 &lt;dbl&gt;, E_26 &lt;dbl&gt;, E_31 &lt;dbl&gt;, E_36 &lt;dbl&gt;</code></pre>
</div>
</div>
<p>After importing the data frame, run it through the functions str() and summary(). What are these showing you?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df) <span class="co"># also shows data type of each variable, in this case numbers, factors, dates, and 'hms' num</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spec_tbl_df [435 x 32] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ ids         : num [1:435] 20055 20075 20087 20088 20135 ...
 $ bday        : Date[1:435], format: "1995-08-06" NA ...
 $ Gender      : num [1:435] 0 0 0 1 0 1 0 0 NA 1 ...
 $ Age         : num [1:435] 24 NA NA 18 20 18 18 22 24 20 ...
 $ Athlete     : num [1:435] 1 0 0 0 0 1 0 0 0 0 ...
 $ Smoking     : num [1:435] 1 1 1 NA 1 1 1 2 1 1 ...
 $ Height      : num [1:435] 64.5 74 68.5 67.5 75 73.5 76 76 66.5 62.5 ...
 $ Weight      : num [1:435] 128 196 153 158 152 ...
 $ Mile        : num [1:435] 494 441 NA 514 450 403 NA 563 653 684 ...
 $ MileMinDur  : 'hms' num [1:435] 00:08:14 00:07:21 NA 00:08:34 ...
  ..- attr(*, "units")= chr "secs"
 $ Rank        : num [1:435] 3 1 2 1 3 2 1 1 3 2 ...
 $ Major       : chr [1:435] NA "journalism" NA "Art history" ...
 $ expgradyear : num [1:435] 2022 2024 2024 2024 2020 ...
 $ expgradmonth: chr [1:435] "December" "December" "May" "December" ...
 $ State       : Factor w/ 2 levels "In state","Out of state": 1 1 1 1 1 2 1 1 1 1 ...
 $ LiveOnCampus: num [1:435] 0 0 1 1 0 0 1 1 0 1 ...
 $ HowCommute  : num [1:435] 3 3 NA NA 3 3 NA NA 4 NA ...
 $ CommuteTime : num [1:435] 31 25 NA NA 25 24 NA NA 35 NA ...
 $ SleepTime   : num [1:435] 5 7 5 NA NA 6 8 12 6 8 ...
 $ StudyTime   : num [1:435] 6 2 6 8 13 9 6 4 12 5 ...
 $ English     : num [1:435] 64 74 87 90 71 68 84 78 81 93 ...
 $ Reading     : num [1:435] 79 67 89 94 70 64 78 75 NA 86 ...
 $ Math        : num [1:435] 67 72 76 66 66 60 69 NA 72 70 ...
 $ Science     : num [1:435] 65 73 81 69 68 61 78 62 66 67 ...
 $ E_1         : num [1:435] 3 4 4 3 5 3 5 4 3 2 ...
 $ E_6         : num [1:435] 4 3 5 5 1 4 2 5 2 5 ...
 $ E_11        : num [1:435] 4 3 2 3 7 4 4 3 4 2 ...
 $ E_16        : num [1:435] 3 3 3 1 5 2 4 2 4 4 ...
 $ E_21        : num [1:435] 3 5 5 5 2 2 3 4 4 5 ...
 $ E_26        : num [1:435] 2 3 3 3 5 3 3 4 3 2 ...
 $ E_31        : num [1:435] 4 4 4 5 1 4 3 5 3 5 ...
 $ E_36        : num [1:435] 3 2 4 3 7 3 4 3 2 2 ...
 - attr(*, "spec")=
  .. cols(
  ..   ids = col_double(),
  ..   bday = col_date(format = ""),
  ..   Gender = col_double(),
  ..   Age = col_double(),
  ..   Athlete = col_double(),
  ..   Smoking = col_double(),
  ..   Height = col_double(),
  ..   Weight = col_double(),
  ..   Mile = col_double(),
  ..   MileMinDur = col_time(format = ""),
  ..   Rank = col_double(),
  ..   Major = col_character(),
  ..   expgradyear = col_double(),
  ..   expgradmonth = col_character(),
  ..   State = col_character(),
  ..   LiveOnCampus = col_double(),
  ..   HowCommute = col_double(),
  ..   CommuteTime = col_double(),
  ..   SleepTime = col_double(),
  ..   StudyTime = col_double(),
  ..   English = col_double(),
  ..   Reading = col_double(),
  ..   Math = col_double(),
  ..   Science = col_double(),
  ..   E_1 = col_double(),
  ..   E_6 = col_double(),
  ..   E_11 = col_double(),
  ..   E_16 = col_double(),
  ..   E_21 = col_double(),
  ..   E_26 = col_double(),
  ..   E_31 = col_double(),
  ..   E_36 = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df) <span class="co"># min, max, median, mean, 25th, 75th percentiles, # of NAs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ids             bday                Gender            Age       
 Min.   :20055   Min.   :1990-09-19   Min.   :0.0000   Min.   :18.00  
 1st Qu.:27297   1st Qu.:1998-02-09   1st Qu.:0.0000   1st Qu.:19.00  
 Median :34028   Median :1999-04-01   Median :1.0000   Median :20.00  
 Mean   :34497   Mean   :1998-12-01   Mean   :0.5169   Mean   :20.25  
 3rd Qu.:40902   3rd Qu.:2000-04-12   3rd Qu.:1.0000   3rd Qu.:21.00  
 Max.   :49977   Max.   :2001-08-21   Max.   :1.0000   Max.   :28.00  
                 NA's   :44           NA's   :21       NA's   :44     
    Athlete       Smoking          Height          Weight           Mile      
 Min.   :0.0   Min.   :1.000   Min.   :58.50   Min.   : 94.5   Min.   :301.0  
 1st Qu.:0.0   1st Qu.:1.000   1st Qu.:65.00   1st Qu.:136.9   1st Qu.:401.0  
 Median :0.0   Median :1.000   Median :68.50   Median :157.0   Median :463.0  
 Mean   :0.4   Mean   :1.294   Mean   :68.43   Mean   :160.0   Mean   :489.2  
 3rd Qu.:1.0   3rd Qu.:1.000   3rd Qu.:72.00   3rd Qu.:181.1   3rd Qu.:558.0  
 Max.   :1.0   Max.   :3.000   Max.   :78.00   Max.   :261.5   Max.   :896.0  
               NA's   :30      NA's   :27      NA's   :47      NA's   :14     
  MileMinDur            Rank          Major            expgradyear  
 Length:435        Min.   :1.000   Length:435         Min.   :2019  
 Class1:hms        1st Qu.:1.000   Class :character   1st Qu.:2022  
 Class2:difftime   Median :2.000   Mode  :character   Median :2023  
 Mode  :numeric    Mean   :2.059                      Mean   :2023  
                   3rd Qu.:3.000                      3rd Qu.:2024  
                   Max.   :4.000                      Max.   :2026  
                   NA's   :13                         NA's   :60    
 expgradmonth                State      LiveOnCampus      HowCommute   
 Length:435         In state    :315   Min.   :0.0000   Min.   :1.000  
 Class :character   Out of state: 94   1st Qu.:0.0000   1st Qu.:3.000  
 Mode  :character   NA's        : 26   Median :0.0000   Median :3.000  
                                       Mean   :0.4869   Mean   :2.765  
                                       3rd Qu.:1.0000   3rd Qu.:3.000  
                                       Max.   :1.0000   Max.   :4.000  
                                       NA's   :14       NA's   :209    
  CommuteTime      SleepTime        StudyTime         English      
 Min.   : 2.00   Min.   : 3.000   Min.   : 0.000   Min.   : 61.00  
 1st Qu.:18.00   1st Qu.: 6.000   1st Qu.: 4.000   1st Qu.: 78.00  
 Median :25.00   Median : 7.000   Median : 6.000   Median : 82.00  
 Mean   :23.65   Mean   : 7.366   Mean   : 7.089   Mean   : 82.28  
 3rd Qu.:30.00   3rd Qu.: 9.000   3rd Qu.: 9.000   3rd Qu.: 87.00  
 Max.   :43.00   Max.   :14.000   Max.   :25.000   Max.   :104.00  
 NA's   :209     NA's   :25       NA's   :43       NA's   :23      
    Reading            Math          Science           E_1       
 Min.   : 61.00   Min.   :37.00   Min.   :47.00   Min.   :1.000  
 1st Qu.: 75.00   1st Qu.:61.00   1st Qu.:63.00   1st Qu.:4.000  
 Median : 81.00   Median :66.00   Median :68.00   Median :4.000  
 Mean   : 80.68   Mean   :66.28   Mean   :67.64   Mean   :4.326  
 3rd Qu.: 86.00   3rd Qu.:71.50   3rd Qu.:72.00   3rd Qu.:5.000  
 Max.   :104.00   Max.   :92.00   Max.   :91.00   Max.   :7.000  
 NA's   :18       NA's   :24      NA's   :21                     
      E_6             E_11           E_16            E_21            E_26      
 Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:3.000   1st Qu.:3.000  
 Median :3.000   Median :4.00   Median :4.000   Median :3.000   Median :4.000  
 Mean   :3.218   Mean   :4.03   Mean   :3.821   Mean   :3.503   Mean   :3.945  
 3rd Qu.:4.000   3rd Qu.:5.00   3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :7.000   Max.   :7.00   Max.   :7.000   Max.   :6.000   Max.   :7.000  
                                                                               
      E_31            E_36      
 Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.000  
 Median :3.000   Median :4.000  
 Mean   :3.147   Mean   :4.232  
 3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :6.000   Max.   :7.000  
                                </code></pre>
</div>
</div>
<p>How do the results of str() and summary() compare to the data frame you imported with read.csv? Dates are converted from characters to date times and factored, other characters are factored and summed</p>
<p>How many missing values are there for variable State?</p>
<p>&gt;&gt; Just use the output from the factored summary to check number of NaNs for State (26).</p>
</section>
<section id="q4." class="level2">
<h2 class="anchored" data-anchor-id="q4.">Q4.</h2>
<p>Import the SPSS *.sav data file using haven::read_spss(). After importing the data frame, run it through the functions str() and summary().</p>
<p>What are these showing you?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df_spss <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_spss</span>(<span class="st">"C:/Users/Moira/Downloads/Sample_Dataset_2019.sav"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df_spss) <span class="co"># summary hashable format.spss document with each variable's data type</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [435 x 32] (S3: tbl_df/tbl/data.frame)
 $ ids         : num [1:435] 20055 20075 20087 20088 20135 ...
  ..- attr(*, "format.spss")= chr "F5.0"
 $ bday        : chr [1:435] "1995-08-06" "" "" "2001-01-08" ...
  ..- attr(*, "format.spss")= chr "A10"
  ..- attr(*, "display_width")= int 10
 $ Gender      : num [1:435] 0 0 0 1 0 1 0 0 NA 1 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ Age         : num [1:435] 24 NA NA 18 20 18 18 22 24 20 ...
  ..- attr(*, "format.spss")= chr "F2.0"
 $ Athlete     : num [1:435] 1 0 0 0 0 1 0 0 0 0 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ Smoking     : num [1:435] 1 1 1 NA 1 1 1 2 1 1 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ Height      : num [1:435] 64.5 74 68.5 67.5 75 73.5 76 76 66.5 62.5 ...
  ..- attr(*, "format.spss")= chr "F4.1"
 $ Weight      : num [1:435] 128 196 153 158 152 ...
  ..- attr(*, "format.spss")= chr "F5.1"
 $ Mile        : num [1:435] 494 441 NA 514 450 403 NA 563 653 684 ...
  ..- attr(*, "format.spss")= chr "F3.0"
 $ MileMinDur  : 'hms' num [1:435] 00:08:14 00:07:21 NA 00:08:34 ...
  ..- attr(*, "units")= chr "secs"
  ..- attr(*, "format.spss")= chr "TIME8"
 $ Rank        : num [1:435] 3 1 2 1 3 2 1 1 3 2 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ Major       : chr [1:435] "" "journalism" "" "Art history" ...
  ..- attr(*, "format.spss")= chr "A63"
  ..- attr(*, "display_width")= int 26
 $ expgradyear : num [1:435] 2022 2024 2024 2024 2020 ...
  ..- attr(*, "format.spss")= chr "F4.0"
 $ expgradmonth: chr [1:435] "December" "December" "May" "December" ...
  ..- attr(*, "format.spss")= chr "A9"
  ..- attr(*, "display_width")= int 9
 $ State       : chr [1:435] "In state" "In state" "In state" "In state" ...
  ..- attr(*, "format.spss")= chr "A12"
  ..- attr(*, "display_width")= int 12
 $ LiveOnCampus: num [1:435] 0 0 1 1 0 0 1 1 0 1 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ HowCommute  : num [1:435] 3 3 NA NA 3 3 NA NA 4 NA ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ CommuteTime : num [1:435] 31 25 NA NA 25 24 NA NA 35 NA ...
  ..- attr(*, "format.spss")= chr "F2.0"
 $ SleepTime   : num [1:435] 5 7 5 NA NA 6 8 12 6 8 ...
  ..- attr(*, "format.spss")= chr "F2.0"
 $ StudyTime   : num [1:435] 6 2 6 8 13 9 6 4 12 5 ...
  ..- attr(*, "format.spss")= chr "F2.0"
 $ English     : num [1:435] 64 74 87 90 71 68 84 78 81 93 ...
  ..- attr(*, "format.spss")= chr "F3.0"
 $ Reading     : num [1:435] 79 67 89 94 70 64 78 75 NA 86 ...
  ..- attr(*, "format.spss")= chr "F3.0"
 $ Math        : num [1:435] 67 72 76 66 66 60 69 NA 72 70 ...
  ..- attr(*, "format.spss")= chr "F2.0"
 $ Science     : num [1:435] 65 73 81 69 68 61 78 62 66 67 ...
  ..- attr(*, "format.spss")= chr "F2.0"
 $ E_1         : num [1:435] 3 4 4 3 5 3 5 4 3 2 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_6         : num [1:435] 4 3 5 5 1 4 2 5 2 5 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_11        : num [1:435] 4 3 2 3 7 4 4 3 4 2 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_16        : num [1:435] 3 3 3 1 5 2 4 2 4 4 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_21        : num [1:435] 3 5 5 5 2 2 3 4 4 5 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_26        : num [1:435] 2 3 3 3 5 3 3 4 3 2 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_31        : num [1:435] 4 4 4 5 1 4 3 5 3 5 ...
  ..- attr(*, "format.spss")= chr "F1.0"
 $ E_36        : num [1:435] 3 2 4 3 7 3 4 3 2 2 ...
  ..- attr(*, "format.spss")= chr "F1.0"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_spss) <span class="co"># min, max, mean, median, 25th and 75th percentiles, number of NAs for numerical vars</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ids            bday               Gender            Age       
 Min.   :20055   Length:435         Min.   :0.0000   Min.   :18.00  
 1st Qu.:27297   Class :character   1st Qu.:0.0000   1st Qu.:19.00  
 Median :34028   Mode  :character   Median :1.0000   Median :20.00  
 Mean   :34497                      Mean   :0.5169   Mean   :20.25  
 3rd Qu.:40902                      3rd Qu.:1.0000   3rd Qu.:21.00  
 Max.   :49977                      Max.   :1.0000   Max.   :28.00  
                                    NA's   :21       NA's   :44     
    Athlete       Smoking          Height          Weight           Mile      
 Min.   :0.0   Min.   :1.000   Min.   :58.50   Min.   : 94.5   Min.   :301.0  
 1st Qu.:0.0   1st Qu.:1.000   1st Qu.:65.00   1st Qu.:136.9   1st Qu.:401.0  
 Median :0.0   Median :1.000   Median :68.50   Median :157.0   Median :463.0  
 Mean   :0.4   Mean   :1.294   Mean   :68.43   Mean   :160.0   Mean   :489.2  
 3rd Qu.:1.0   3rd Qu.:1.000   3rd Qu.:72.00   3rd Qu.:181.1   3rd Qu.:558.0  
 Max.   :1.0   Max.   :3.000   Max.   :78.00   Max.   :261.5   Max.   :896.0  
               NA's   :30      NA's   :27      NA's   :47      NA's   :14     
  MileMinDur            Rank          Major            expgradyear  
 Length:435        Min.   :1.000   Length:435         Min.   :2019  
 Class1:hms        1st Qu.:1.000   Class :character   1st Qu.:2022  
 Class2:difftime   Median :2.000   Mode  :character   Median :2023  
 Mode  :numeric    Mean   :2.059                      Mean   :2023  
                   3rd Qu.:3.000                      3rd Qu.:2024  
                   Max.   :4.000                      Max.   :2026  
                   NA's   :13                         NA's   :60    
 expgradmonth          State            LiveOnCampus      HowCommute   
 Length:435         Length:435         Min.   :0.0000   Min.   :1.000  
 Class :character   Class :character   1st Qu.:0.0000   1st Qu.:3.000  
 Mode  :character   Mode  :character   Median :0.0000   Median :3.000  
                                       Mean   :0.4869   Mean   :2.765  
                                       3rd Qu.:1.0000   3rd Qu.:3.000  
                                       Max.   :1.0000   Max.   :4.000  
                                       NA's   :14       NA's   :209    
  CommuteTime      SleepTime        StudyTime         English      
 Min.   : 2.00   Min.   : 3.000   Min.   : 0.000   Min.   : 61.00  
 1st Qu.:18.00   1st Qu.: 6.000   1st Qu.: 4.000   1st Qu.: 78.00  
 Median :25.00   Median : 7.000   Median : 6.000   Median : 82.00  
 Mean   :23.65   Mean   : 7.366   Mean   : 7.089   Mean   : 82.28  
 3rd Qu.:30.00   3rd Qu.: 9.000   3rd Qu.: 9.000   3rd Qu.: 87.00  
 Max.   :43.00   Max.   :14.000   Max.   :25.000   Max.   :104.00  
 NA's   :209     NA's   :25       NA's   :43       NA's   :23      
    Reading            Math          Science           E_1       
 Min.   : 61.00   Min.   :37.00   Min.   :47.00   Min.   :1.000  
 1st Qu.: 75.00   1st Qu.:61.00   1st Qu.:63.00   1st Qu.:4.000  
 Median : 81.00   Median :66.00   Median :68.00   Median :4.000  
 Mean   : 80.68   Mean   :66.28   Mean   :67.64   Mean   :4.326  
 3rd Qu.: 86.00   3rd Qu.:71.50   3rd Qu.:72.00   3rd Qu.:5.000  
 Max.   :104.00   Max.   :92.00   Max.   :91.00   Max.   :7.000  
 NA's   :18       NA's   :24      NA's   :21                     
      E_6             E_11           E_16            E_21            E_26      
 Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:3.000   1st Qu.:3.000  
 Median :3.000   Median :4.00   Median :4.000   Median :3.000   Median :4.000  
 Mean   :3.218   Mean   :4.03   Mean   :3.821   Mean   :3.503   Mean   :3.945  
 3rd Qu.:4.000   3rd Qu.:5.00   3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :7.000   Max.   :7.00   Max.   :7.000   Max.   :6.000   Max.   :7.000  
                                                                               
      E_31            E_36      
 Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.000  
 Median :3.000   Median :4.000  
 Mean   :3.147   Mean   :4.232  
 3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :6.000   Max.   :7.000  
                                </code></pre>
</div>
</div>
<p>How do the results of str() and summary() compare to the data frame you imported with read.csv and readr::read_csv()?</p>
<p>&gt;&gt; The dates and generic string values are characters by default. Also the package is importing the data as a tibble, which is a really crude kind of dataframe.</p>
</section>
<section id="q5." class="level2">
<h2 class="anchored" data-anchor-id="q5.">Q5.</h2>
<p>Import the Excel *.xlsx data file using readxl::read_excel(). After importing the data frame, run it through the functions str() and summary().</p>
<p>What are these showing you?</p>
<p>&gt;&gt; Basically shows same descriptive statistics as before.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df_xl <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"C:/Users/Moira/Downloads/Sample_Dataset_2019.xlsx"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df_xl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [435 x 32] (S3: tbl_df/tbl/data.frame)
 $ ids         : num [1:435] 20055 20075 20087 20088 20135 ...
 $ bday        : POSIXct[1:435], format: "1995-08-06" NA ...
 $ Gender      : num [1:435] 0 0 0 1 0 1 0 0 NA 1 ...
 $ Age         : num [1:435] 24 NA NA 18 20 18 18 22 24 20 ...
 $ Athlete     : num [1:435] 1 0 0 0 0 1 0 0 0 0 ...
 $ Smoking     : num [1:435] 1 1 1 NA 1 1 1 2 1 1 ...
 $ Height      : num [1:435] 64.5 74 68.5 67.5 75 73.5 76 76 66.5 62.5 ...
 $ Weight      : num [1:435] 128 196 153 158 152 ...
 $ Mile        : num [1:435] 494 441 NA 514 450 403 NA 563 653 684 ...
 $ MileMinDur  : POSIXct[1:435], format: "1899-12-31 00:08:14" "1899-12-31 00:07:21" ...
 $ Rank        : num [1:435] 3 1 2 1 3 2 1 1 3 2 ...
 $ Major       : chr [1:435] NA "journalism" NA "Art history" ...
 $ expgradyear : num [1:435] 2022 2024 2024 2024 2020 ...
 $ expgradmonth: chr [1:435] "December" "December" "May" "December" ...
 $ State       : chr [1:435] "In state" "In state" "In state" "In state" ...
 $ LiveOnCampus: num [1:435] 0 0 1 1 0 0 1 1 0 1 ...
 $ HowCommute  : num [1:435] 3 3 NA NA 3 3 NA NA 4 NA ...
 $ CommuteTime : num [1:435] 31 25 NA NA 25 24 NA NA 35 NA ...
 $ SleepTime   : num [1:435] 5 7 5 NA NA 6 8 12 6 8 ...
 $ StudyTime   : num [1:435] 6 2 6 8 13 9 6 4 12 5 ...
 $ English     : num [1:435] 64 74 87 90 71 68 84 78 81 93 ...
 $ Reading     : num [1:435] 79 67 89 94 70 64 78 75 NA 86 ...
 $ Math        : num [1:435] 67 72 76 66 66 60 69 NA 72 70 ...
 $ Science     : num [1:435] 65 73 81 69 68 61 78 62 66 67 ...
 $ E_1         : num [1:435] 3 4 4 3 5 3 5 4 3 2 ...
 $ E_6         : num [1:435] 4 3 5 5 1 4 2 5 2 5 ...
 $ E_11        : num [1:435] 4 3 2 3 7 4 4 3 4 2 ...
 $ E_16        : num [1:435] 3 3 3 1 5 2 4 2 4 4 ...
 $ E_21        : num [1:435] 3 5 5 5 2 2 3 4 4 5 ...
 $ E_26        : num [1:435] 2 3 3 3 5 3 3 4 3 2 ...
 $ E_31        : num [1:435] 4 4 4 5 1 4 3 5 3 5 ...
 $ E_36        : num [1:435] 3 2 4 3 7 3 4 3 2 2 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_xl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ids             bday                         Gender            Age       
 Min.   :20055   Min.   :1990-09-19 00:00:00   Min.   :0.0000   Min.   :18.00  
 1st Qu.:27297   1st Qu.:1998-02-09 12:00:00   1st Qu.:0.0000   1st Qu.:19.00  
 Median :34028   Median :1999-04-01 00:00:00   Median :1.0000   Median :20.00  
 Mean   :34497   Mean   :1998-12-01 17:40:39   Mean   :0.5169   Mean   :20.25  
 3rd Qu.:40902   3rd Qu.:2000-04-12 00:00:00   3rd Qu.:1.0000   3rd Qu.:21.00  
 Max.   :49977   Max.   :2001-08-21 00:00:00   Max.   :1.0000   Max.   :28.00  
                 NA's   :44                    NA's   :21       NA's   :44     
    Athlete       Smoking          Height          Weight           Mile      
 Min.   :0.0   Min.   :1.000   Min.   :58.50   Min.   : 94.5   Min.   :301.0  
 1st Qu.:0.0   1st Qu.:1.000   1st Qu.:65.00   1st Qu.:136.9   1st Qu.:401.0  
 Median :0.0   Median :1.000   Median :68.50   Median :157.0   Median :463.0  
 Mean   :0.4   Mean   :1.294   Mean   :68.43   Mean   :160.0   Mean   :489.2  
 3rd Qu.:1.0   3rd Qu.:1.000   3rd Qu.:72.00   3rd Qu.:181.1   3rd Qu.:558.0  
 Max.   :1.0   Max.   :3.000   Max.   :78.00   Max.   :261.5   Max.   :896.0  
               NA's   :30      NA's   :27      NA's   :47      NA's   :14     
   MileMinDur                       Rank          Major          
 Min.   :1899-12-31 00:05:01   Min.   :1.000   Length:435        
 1st Qu.:1899-12-31 00:06:41   1st Qu.:1.000   Class :character  
 Median :1899-12-31 00:07:43   Median :2.000   Mode  :character  
 Mean   :1899-12-31 00:08:10   Mean   :2.059                     
 3rd Qu.:1899-12-31 00:09:18   3rd Qu.:3.000                     
 Max.   :1899-12-31 00:14:56   Max.   :4.000                     
 NA's   :14                    NA's   :13                        
  expgradyear   expgradmonth          State            LiveOnCampus   
 Min.   :2019   Length:435         Length:435         Min.   :0.0000  
 1st Qu.:2022   Class :character   Class :character   1st Qu.:0.0000  
 Median :2023   Mode  :character   Mode  :character   Median :0.0000  
 Mean   :2023                                         Mean   :0.4869  
 3rd Qu.:2024                                         3rd Qu.:1.0000  
 Max.   :2026                                         Max.   :1.0000  
 NA's   :60                                           NA's   :14      
   HowCommute     CommuteTime      SleepTime        StudyTime     
 Min.   :1.000   Min.   : 2.00   Min.   : 3.000   Min.   : 0.000  
 1st Qu.:3.000   1st Qu.:18.00   1st Qu.: 6.000   1st Qu.: 4.000  
 Median :3.000   Median :25.00   Median : 7.000   Median : 6.000  
 Mean   :2.765   Mean   :23.65   Mean   : 7.366   Mean   : 7.089  
 3rd Qu.:3.000   3rd Qu.:30.00   3rd Qu.: 9.000   3rd Qu.: 9.000  
 Max.   :4.000   Max.   :43.00   Max.   :14.000   Max.   :25.000  
 NA's   :209     NA's   :209     NA's   :25       NA's   :43      
    English          Reading            Math          Science     
 Min.   : 61.00   Min.   : 61.00   Min.   :37.00   Min.   :47.00  
 1st Qu.: 78.00   1st Qu.: 75.00   1st Qu.:61.00   1st Qu.:63.00  
 Median : 82.00   Median : 81.00   Median :66.00   Median :68.00  
 Mean   : 82.28   Mean   : 80.68   Mean   :66.28   Mean   :67.64  
 3rd Qu.: 87.00   3rd Qu.: 86.00   3rd Qu.:71.50   3rd Qu.:72.00  
 Max.   :104.00   Max.   :104.00   Max.   :92.00   Max.   :91.00  
 NA's   :23       NA's   :18       NA's   :24      NA's   :21     
      E_1             E_6             E_11           E_16            E_21      
 Min.   :1.000   Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000  
 1st Qu.:4.000   1st Qu.:2.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:3.000  
 Median :4.000   Median :3.000   Median :4.00   Median :4.000   Median :3.000  
 Mean   :4.326   Mean   :3.218   Mean   :4.03   Mean   :3.821   Mean   :3.503  
 3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.00   3rd Qu.:5.000   3rd Qu.:4.000  
 Max.   :7.000   Max.   :7.000   Max.   :7.00   Max.   :7.000   Max.   :6.000  
                                                                               
      E_26            E_31            E_36      
 Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:3.000   1st Qu.:2.000   1st Qu.:3.000  
 Median :4.000   Median :3.000   Median :4.000  
 Mean   :3.945   Mean   :3.147   Mean   :4.232  
 3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :7.000   Max.   :6.000   Max.   :7.000  
                                                </code></pre>
</div>
</div>
<p>How do the results of str() and summary() compare to the data frame you imported with read.csv, readr::read_csv(), and haven::read_spss()?</p>
<p>&gt;&gt; Similar to importing with base R (w/ default stringsAsFactors = FALSE), but data types are numbers, characters, and “POSIXct” (which rep. calendar dates and time).</p>
</section>
<section id="q6." class="level2">
<h2 class="anchored" data-anchor-id="q6.">Q6.</h2>
<p>Create a frequency table for variable State. Create a frequency table that explicitly shows the number of missing values.</p>
<p>How would you add marginal frequencies (i.e., row/column totals) to the table?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">header =</span> T, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>), <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># alt for default stringsAsFactors = FALSE</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- df %&gt;% </span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate_if(is.character, factor)</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>mytable <span class="ot">&lt;-</span> <span class="fu">table</span>(df<span class="sc">$</span>State, <span class="at">exclude =</span> <span class="st">"no"</span>)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># alt : df_table &lt;- table(df$State,useNA="always")</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>mytable <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">margin.table</span>(mytable))</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>mytable</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 435</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># alt:</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">#if table was higher dimensions (i.e. &gt;= 2), could just use colSums and rowSums...but in this case it throws an error</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># mytable_ttl &lt;- rbind(mytable, colSums(mytable), rowSums(mytable))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How would you display the proportions for this table? (Note: you do not need to have the frequencies and proportions printed side-by-side to answer this question).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>df_table <span class="ot">&lt;-</span> <span class="fu">table</span>(df<span class="sc">$</span>State,<span class="at">useNA=</span><span class="st">"always"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>df_table<span class="sc">$</span>prop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">prop.table</span>(df_table))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in df_table$prop &lt;- c(prop.table(df_table)): Coercing LHS to a list</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`In state`
[1] 315

$`Out of state`
[1] 94

$&lt;NA&gt;
[1] 26

$prop
    In state Out of state         &lt;NA&gt; 
  0.72413793   0.21609195   0.05977011 </code></pre>
</div>
</div>
</section>
<section id="q7." class="level2">
<h2 class="anchored" data-anchor-id="q7.">Q7.</h2>
<p>Create a frequency table for variable Rank.</p>
<p>Create a frequency table for the variable Rank. Notice that it prints the data values 1, 2, 3, 4.</p>
<p>Like SAS, SPSS, and Stata, R has the ability to assign labels to numeric values (R treats these as a special type(s) of variable) and treat the resulting variables as nominal or ordinal. What base R function(s) do this? ________________</p>
<p>After finding and applying the base R function(s) to assign labels to the numeric values, rerun the frequency table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>rank_data <span class="ot">&lt;-</span> <span class="fu">table</span>(df<span class="sc">$</span>Rank, <span class="at">exclude =</span> <span class="st">"no"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>rank_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4 &lt;NA&gt; 
 158  121  103   40   13 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#use factor() function for nominal data</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># use ordered() function for ordinal data</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>desc <span class="ot">&lt;-</span> <span class="fu">ordered</span>(df<span class="sc">$</span>Rank,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>),</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Below 25th"</span>, <span class="st">"Above 25th"</span>, <span class="st">"Above 50th"</span>, <span class="st">"Above 75th"</span>))</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df<span class="sc">$</span>desc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Below 25th Above 25th Above 50th Above 75th 
       158        121        103         40 </code></pre>
</div>
</div>
</section>
<section id="q8." class="level2">
<h2 class="anchored" data-anchor-id="q8.">Q8.</h2>
<p>Compute BMI from weight (in pounds) and height (in inches) as a new variable in your dataframe.</p>
<p>Compute a new variable categorizing the numeric BMI values into ranges (can use the CDC guidelines to determine cutpoints) as a new variable in your dataframe.</p>
<p>Tabulate the new variable from step B and get proportions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>BMI <span class="ot">&lt;-</span> df<span class="sc">$</span>Weight <span class="sc">/</span> (df<span class="sc">$</span>Height <span class="sc">*</span> df<span class="sc">$</span>Height)<span class="sc">*</span><span class="dv">703</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># alt w dplyr</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- df %&gt;%</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(BMI = df$Weight / (df$Height * df$Height)*703)</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ids                bday         Gender            Age       
 Min.   :20055   1999-03-20:  3   Min.   :0.0000   Min.   :18.00  
 1st Qu.:27297   1999-04-22:  3   1st Qu.:0.0000   1st Qu.:19.00  
 Median :34028   2000-05-09:  3   Median :1.0000   Median :20.00  
 Mean   :34497   1995-04-12:  2   Mean   :0.5169   Mean   :20.25  
 3rd Qu.:40902   1998-03-14:  2   3rd Qu.:1.0000   3rd Qu.:21.00  
 Max.   :49977   (Other)   :378   Max.   :1.0000   Max.   :28.00  
                 NA's      : 44   NA's   :21       NA's   :44     
    Athlete       Smoking          Height          Weight           Mile      
 Min.   :0.0   Min.   :1.000   Min.   :58.50   Min.   : 94.5   Min.   :301.0  
 1st Qu.:0.0   1st Qu.:1.000   1st Qu.:65.00   1st Qu.:136.9   1st Qu.:401.0  
 Median :0.0   Median :1.000   Median :68.50   Median :157.0   Median :463.0  
 Mean   :0.4   Mean   :1.294   Mean   :68.43   Mean   :160.0   Mean   :489.2  
 3rd Qu.:1.0   3rd Qu.:1.000   3rd Qu.:72.00   3rd Qu.:181.1   3rd Qu.:558.0  
 Max.   :1.0   Max.   :3.000   Max.   :78.00   Max.   :261.5   Max.   :896.0  
               NA's   :30      NA's   :27      NA's   :47      NA's   :14     
   MileMinDur       Rank                         Major      expgradyear  
 0:07:33:  6   Min.   :1.000   nursing              : 10   Min.   :2019  
 0:07:07:  5   1st Qu.:1.000   journalism           :  4   1st Qu.:2022  
 0:06:24:  4   Median :2.000   Aerospace engineering:  3   Median :2023  
 0:06:41:  4   Mean   :2.059   management           :  3   Mean   :2023  
 0:07:14:  4   3rd Qu.:3.000   Nursing              :  3   3rd Qu.:2024  
 (Other):398   Max.   :4.000   (Other)              :254   Max.   :2026  
 NA's   : 14   NA's   :13      NA's                 :158   NA's   :60    
   expgradmonth          State      LiveOnCampus      HowCommute   
 December:204   In state    :315   Min.   :0.0000   Min.   :1.000  
 May     :171   Out of state: 94   1st Qu.:0.0000   1st Qu.:3.000  
 NA's    : 60   NA's        : 26   Median :0.0000   Median :3.000  
                                   Mean   :0.4869   Mean   :2.765  
                                   3rd Qu.:1.0000   3rd Qu.:3.000  
                                   Max.   :1.0000   Max.   :4.000  
                                   NA's   :14       NA's   :209    
  CommuteTime      SleepTime        StudyTime         English      
 Min.   : 2.00   Min.   : 3.000   Min.   : 0.000   Min.   : 61.00  
 1st Qu.:18.00   1st Qu.: 6.000   1st Qu.: 4.000   1st Qu.: 78.00  
 Median :25.00   Median : 7.000   Median : 6.000   Median : 82.00  
 Mean   :23.65   Mean   : 7.366   Mean   : 7.089   Mean   : 82.28  
 3rd Qu.:30.00   3rd Qu.: 9.000   3rd Qu.: 9.000   3rd Qu.: 87.00  
 Max.   :43.00   Max.   :14.000   Max.   :25.000   Max.   :104.00  
 NA's   :209     NA's   :25       NA's   :43       NA's   :23      
    Reading            Math          Science           E_1       
 Min.   : 61.00   Min.   :37.00   Min.   :47.00   Min.   :1.000  
 1st Qu.: 75.00   1st Qu.:61.00   1st Qu.:63.00   1st Qu.:4.000  
 Median : 81.00   Median :66.00   Median :68.00   Median :4.000  
 Mean   : 80.68   Mean   :66.28   Mean   :67.64   Mean   :4.326  
 3rd Qu.: 86.00   3rd Qu.:71.50   3rd Qu.:72.00   3rd Qu.:5.000  
 Max.   :104.00   Max.   :92.00   Max.   :91.00   Max.   :7.000  
 NA's   :18       NA's   :24      NA's   :21                     
      E_6             E_11           E_16            E_21            E_26      
 Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:3.000   1st Qu.:3.000  
 Median :3.000   Median :4.00   Median :4.000   Median :3.000   Median :4.000  
 Mean   :3.218   Mean   :4.03   Mean   :3.821   Mean   :3.503   Mean   :3.945  
 3rd Qu.:4.000   3rd Qu.:5.00   3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.000  
 Max.   :7.000   Max.   :7.00   Max.   :7.000   Max.   :6.000   Max.   :7.000  
                                                                               
      E_31            E_36               desc          BMI       
 Min.   :1.000   Min.   :1.000   Below 25th:158   Min.   :17.76  
 1st Qu.:2.000   1st Qu.:3.000   Above 25th:121   1st Qu.:21.43  
 Median :3.000   Median :4.000   Above 50th:103   Median :23.60  
 Mean   :3.147   Mean   :4.232   Above 75th: 40   Mean   :24.01  
 3rd Qu.:4.000   3rd Qu.:5.000   NA's      : 13   3rd Qu.:26.42  
 Max.   :6.000   Max.   :7.000                    Max.   :31.83  
                                                  NA's   :70     </code></pre>
</div>
</div>
<p>Compute a new variable categorizing the numeric BMI values into ranges (can use the CDC guidelines to determine cutpoints) as a new variable in your dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># na.omit(df)</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># overweight &lt;- df[df$BMI &gt;= 25,]</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>ovwt <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">which</span>(df<span class="sc">$</span>BMI <span class="sc">&gt;=</span> <span class="dv">25</span>))</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># alt w dplyr:</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># overweight &lt;- df %&gt;%</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(BMI &gt; 25)</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="co"># count(overweight)</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>bmi_nan <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(df<span class="sc">$</span>BMI))</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>perc_overweight <span class="ot">&lt;-</span> ovwt <span class="sc">/</span> ( <span class="dv">435</span> <span class="sc">-</span> bmi_nan )</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>perc_overweight</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3808219</code></pre>
</div>
</div>
<p>Tabulate the new variable from step B and get proportions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>category <span class="ot">&lt;-</span> <span class="fu">cut</span>(df<span class="sc">$</span>BMI,<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">18.5</span>,<span class="dv">25</span>,<span class="dv">30</span>,<span class="dv">50</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"underweight"</span>, <span class="st">"healthy"</span>,<span class="st">"overweight"</span>, <span class="st">"obese"</span>))</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>df_cat <span class="ot">&lt;-</span> <span class="fu">table</span>(df<span class="sc">$</span>category)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(df_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
underweight     healthy  overweight       obese 
          9         217         121          18 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df_cat<span class="sc">$</span>prop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">prop.table</span>(df_cat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in df_cat$prop &lt;- c(prop.table(df_cat)): Coercing LHS to a list</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_cat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$underweight
[1] 9

$healthy
[1] 217

$overweight
[1] 121

$obese
[1] 18

$prop
underweight     healthy  overweight       obese 
 0.02465753  0.59452055  0.33150685  0.04931507 </code></pre>
</div>
</div>
</section>
<section id="q9." class="level2">
<h2 class="anchored" data-anchor-id="q9.">Q9.</h2>
<p>Obtain descriptive statistics (mean/sd/confidence intervals, possibly by groups, and Pearson correlations; OR frequency tables/crosstabs/proportions) for the following sets/pairs of variables. (Note: The appropriate responses will not be ones that have all NA values)</p>
<p><em>Height and Weight</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(df<span class="sc">$</span>Height, df<span class="sc">$</span>Weight) <span class="co">#pearson as default</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  df$Height and df$Weight
t = 18.741, df = 363, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.6450427 0.7499273
sample estimates:
      cor 
0.7012601 </code></pre>
</div>
</div>
<p><em>English, Reading, Math, Science</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>eng <span class="ot">&lt;-</span> df<span class="sc">$</span>English</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>reading <span class="ot">&lt;-</span> df<span class="sc">$</span>Reading</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>math <span class="ot">&lt;-</span> df<span class="sc">$</span>Math</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>science <span class="ot">&lt;-</span> df<span class="sc">$</span>Science</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>additive <span class="ot">&lt;-</span> <span class="fu">aov</span>(reading <span class="sc">~</span> eng <span class="sc">+</span> math<span class="sc">*</span>science)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(additive)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Df Sum Sq Mean Sq F value Pr(&gt;F)    
eng            1   4388    4388  86.194 &lt;2e-16 ***
math           1     49      49   0.956 0.3289    
science        1    213     213   4.193 0.0413 *  
math:science   1     48      48   0.949 0.3307    
Residuals    351  17869      51                   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
79 observations deleted due to missingness</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>interactions <span class="ot">&lt;-</span> <span class="fu">aov</span>(reading <span class="sc">~</span> eng<span class="sc">*</span>math<span class="sc">*</span>science)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(interactions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  Df Sum Sq Mean Sq F value Pr(&gt;F)    
eng                1   4388    4388  86.321 &lt;2e-16 ***
math               1     49      49   0.957 0.3285    
science            1    213     213   4.199 0.0412 *  
eng:math           1    203     203   3.992 0.0465 *  
eng:science        1      7       7   0.139 0.7096    
math:science       1     16      16   0.306 0.5807    
eng:math:science   1      2       2   0.032 0.8588    
Residuals        348  17690      51                   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
79 observations deleted due to missingness</code></pre>
</div>
</div>
<p><em>Mile and Athlete Y/N</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>dist <span class="ot">&lt;-</span> <span class="fu">cut</span>(df<span class="sc">$</span>Mile,<span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">301.0</span>, <span class="fl">401.0</span>, <span class="fl">463.0</span>, <span class="fl">558.0</span>, <span class="fl">896.0</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"lower quartile"</span>, <span class="st">"lower-middle quartile"</span>,<span class="st">"upper-middle quartile"</span>, <span class="st">"upper quartile"</span>))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>mile_athlete <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>df<span class="sc">$</span>dist<span class="sc">+</span>df<span class="sc">$</span>Athlete)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(mile_athlete)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      df$Athlete   0   1
df$dist                                 
lower quartile                    28  77
lower-middle quartile             38  67
upper-middle quartile             77  28
upper quartile                   105   0</code></pre>
</div>
</div>
<p>State and LiveOnCampus</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>state_campus <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>df<span class="sc">$</span>State<span class="sc">+</span>df<span class="sc">$</span>LiveOnCampus)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(state_campus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             df$LiveOnCampus   0   1
df$State                            
In state                     157 148
Out of state                  47  43</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(state_campus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: xtabs(formula = ~df$State + df$LiveOnCampus)
Number of cases in table: 395 
Number of factors: 2 
Test for independence of all factors:
    Chisq = 0.01552, df = 1, p-value = 0.9009</code></pre>
</div>
</div>
<p>LiveOnCampus, HowCommute, CommuteTime</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>CommuteTime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   2.00   18.00   25.00   23.65   30.00   43.00     209 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>commute_cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(df<span class="sc">$</span>CommuteTime,<span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">2.00</span>, <span class="fl">18.00</span>, <span class="fl">25.00</span>, <span class="fl">30.00</span>, <span class="fl">43.00</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"lower quartile"</span>, <span class="st">"lower-middle quartile"</span>,<span class="st">"upper-middle quartile"</span>, <span class="st">"upper quartile"</span>))</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>three <span class="ot">&lt;-</span> <span class="fu">table</span>(df<span class="sc">$</span>commute_cat,df<span class="sc">$</span>LiveOnCampus,df<span class="sc">$</span>HowCommute)</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>three</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, ,  = 1

                       
                         0  1
  lower quartile        25  0
  lower-middle quartile  4  0
  upper-middle quartile  0  0
  upper quartile         0  0

, ,  = 2

                       
                         0  1
  lower quartile        20  0
  lower-middle quartile  0  0
  upper-middle quartile  0  0
  upper quartile         0  0

, ,  = 3

                       
                         0  1
  lower quartile        13  0
  lower-middle quartile 48  0
  upper-middle quartile 55  0
  upper quartile        21  0

, ,  = 4

                       
                         0  1
  lower quartile         0  0
  lower-middle quartile  0  0
  upper-middle quartile  4  0
  upper quartile        24  0</code></pre>
</div>
</div>
</section>
<section id="q10." class="level2">
<h2 class="anchored" data-anchor-id="q10.">Q10.</h2>
<p>What is the Cronbach’s alpha for the extraversion scale? (Note: There isn’t a Cronbach’s alpha function in base R, as far as I know; there is one in package psych)</p>
<p>Check if any of the items need to be reverse-coded before doing this.</p>
<p>After obtaining the Cronbach’s alpha value, compute a new variable containing the subjects’ composite scores by averaging their responses to the Likert items. Note: Simply using the mean() function alone will not achieve this.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'psych' was built under R version 4.1.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">header =</span> T, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>), <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   435 obs. of  32 variables:
 $ ids         : int  20055 20075 20087 20088 20135 20161 20188 20215 20250 20354 ...
 $ bday        : Factor w/ 361 levels "1990-09-19","1993-03-29",..: 26 NA NA 330 159 323 358 72 17 218 ...
 $ Gender      : int  0 0 0 1 0 1 0 0 NA 1 ...
 $ Age         : int  24 NA NA 18 20 18 18 22 24 20 ...
 $ Athlete     : int  1 0 0 0 0 1 0 0 0 0 ...
 $ Smoking     : int  1 1 1 NA 1 1 1 2 1 1 ...
 $ Height      : num  64.5 74 68.5 67.5 75 73.5 76 76 66.5 62.5 ...
 $ Weight      : num  128 196 153 158 152 ...
 $ Mile        : int  494 441 NA 514 450 403 NA 563 653 684 ...
 $ MileMinDur  : Factor w/ 244 levels "0:05:01","0:05:05",..: 134 93 NA 147 101 64 NA 170 209 219 ...
 $ Rank        : int  3 1 2 1 3 2 1 1 3 2 ...
 $ Major       : Factor w/ 240 levels "  spanish language education",..: NA 140 NA 18 22 173 NA NA NA 45 ...
 $ expgradyear : int  2022 2024 2024 2024 2020 2025 2022 2024 NA 2023 ...
 $ expgradmonth: Factor w/ 2 levels "December","May": 1 1 2 1 1 2 1 2 NA 2 ...
 $ State       : Factor w/ 2 levels "In state","Out of state": 1 1 1 1 1 2 1 1 1 1 ...
 $ LiveOnCampus: int  0 0 1 1 0 0 1 1 0 1 ...
 $ HowCommute  : int  3 3 NA NA 3 3 NA NA 4 NA ...
 $ CommuteTime : int  31 25 NA NA 25 24 NA NA 35 NA ...
 $ SleepTime   : int  5 7 5 NA NA 6 8 12 6 8 ...
 $ StudyTime   : int  6 2 6 8 13 9 6 4 12 5 ...
 $ English     : int  64 74 87 90 71 68 84 78 81 93 ...
 $ Reading     : int  79 67 89 94 70 64 78 75 NA 86 ...
 $ Math        : int  67 72 76 66 66 60 69 NA 72 70 ...
 $ Science     : int  65 73 81 69 68 61 78 62 66 67 ...
 $ E_1         : int  3 4 4 3 5 3 5 4 3 2 ...
 $ E_6         : int  4 3 5 5 1 4 2 5 2 5 ...
 $ E_11        : int  4 3 2 3 7 4 4 3 4 2 ...
 $ E_16        : int  3 3 3 1 5 2 4 2 4 4 ...
 $ E_21        : int  3 5 5 5 2 2 3 4 4 5 ...
 $ E_26        : int  2 3 3 3 5 3 3 4 3 2 ...
 $ E_31        : int  4 4 4 5 1 4 3 5 3 5 ...
 $ E_36        : int  3 2 4 3 7 3 4 3 2 2 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>extra <span class="ot">&lt;-</span> df[, <span class="fu">c</span>(<span class="st">"E_1"</span>, <span class="st">"E_6"</span>, <span class="st">"E_11"</span>, <span class="st">"E_16"</span>, <span class="st">"E_21"</span>, <span class="st">"E_26"</span>, <span class="st">"E_31"</span>, <span class="st">"E_36"</span>)]</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="fu">alpha</span>(extra, <span class="at">check.keys=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in alpha(extra, check.keys = TRUE): Some items were negatively correlated with total scale and were automatically reversed.
 This is indicated by a negative sign for the variable name.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: alpha(x = extra, check.keys = TRUE)

  raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd median_r
      0.92      0.92    0.94      0.59  11 0.0061  4.3 0.97     0.59

    95% confidence boundaries 
         lower alpha upper
Feldt     0.91  0.92  0.93
Duhachek  0.91  0.92  0.93

 Reliability if an item is dropped:
      raw_alpha std.alpha G6(smc) average_r  S/N alpha se var.r med.r
E_1        0.91      0.91    0.93      0.60 10.6   0.0065 0.013  0.62
E_6-       0.91      0.91    0.93      0.60 10.4   0.0067 0.015  0.60
E_11       0.91      0.91    0.93      0.58  9.7   0.0071 0.016  0.60
E_16       0.91      0.91    0.93      0.58  9.8   0.0070 0.014  0.59
E_21-      0.91      0.91    0.93      0.58  9.8   0.0071 0.016  0.58
E_26       0.91      0.91    0.93      0.58  9.7   0.0071 0.016  0.59
E_31-      0.90      0.90    0.92      0.56  8.9   0.0076 0.016  0.56
E_36       0.92      0.92    0.93      0.61 11.1   0.0063 0.013  0.62

 Item statistics 
        n raw.r std.r r.cor r.drop mean  sd
E_1   435  0.75  0.75  0.72   0.67  4.3 1.2
E_6-  435  0.76  0.77  0.73   0.69  4.8 1.2
E_11  435  0.82  0.82  0.80   0.76  4.0 1.3
E_16  435  0.81  0.81  0.79   0.74  3.8 1.2
E_21- 435  0.82  0.82  0.79   0.75  4.5 1.2
E_26  435  0.83  0.82  0.80   0.76  3.9 1.3
E_31- 435  0.89  0.89  0.89   0.85  4.9 1.1
E_36  435  0.71  0.71  0.68   0.62  4.2 1.2

Non missing response frequency for each item
        1    2    3    4    5    6    7 miss
E_1  0.00 0.06 0.18 0.31 0.29 0.11 0.04    0
E_6  0.06 0.23 0.29 0.30 0.10 0.02 0.00    0
E_11 0.01 0.11 0.22 0.31 0.23 0.09 0.03    0
E_16 0.02 0.12 0.26 0.33 0.17 0.08 0.02    0
E_21 0.05 0.15 0.32 0.25 0.18 0.05 0.00    0
E_26 0.01 0.13 0.24 0.29 0.23 0.08 0.03    0
E_31 0.06 0.22 0.35 0.26 0.10 0.01 0.00    0
E_36 0.01 0.08 0.18 0.32 0.27 0.11 0.03    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>extra<span class="sc">$</span>sums <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(extra)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>extra<span class="sc">$</span>avg <span class="ot">&lt;-</span> extra<span class="sc">$</span>sums <span class="sc">/</span> <span class="dv">8</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(extra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      E_1             E_6             E_11           E_16            E_21      
 Min.   :1.000   Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000  
 1st Qu.:4.000   1st Qu.:2.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:3.000  
 Median :4.000   Median :3.000   Median :4.00   Median :4.000   Median :3.000  
 Mean   :4.326   Mean   :3.218   Mean   :4.03   Mean   :3.821   Mean   :3.503  
 3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.00   3rd Qu.:5.000   3rd Qu.:4.000  
 Max.   :7.000   Max.   :7.000   Max.   :7.00   Max.   :7.000   Max.   :6.000  
      E_26            E_31            E_36            sums      
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :23.00  
 1st Qu.:3.000   1st Qu.:2.000   1st Qu.:3.000   1st Qu.:28.00  
 Median :4.000   Median :3.000   Median :4.000   Median :30.00  
 Mean   :3.945   Mean   :3.147   Mean   :4.232   Mean   :30.22  
 3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:5.000   3rd Qu.:32.00  
 Max.   :7.000   Max.   :6.000   Max.   :7.000   Max.   :40.00  
      avg       
 Min.   :2.875  
 1st Qu.:3.500  
 Median :3.750  
 Mean   :3.778  
 3rd Qu.:4.000  
 Max.   :5.000  </code></pre>
</div>
</div>
</section>
<section id="q11." class="level2">
<h2 class="anchored" data-anchor-id="q11.">Q11.</h2>
<p>If you do a linear regression of SleepTime (Y) on StudyTime (X), are the assumptions of linear regression met? (Linear relationship, Multivariate normality, No or little multicollinearity, No auto-correlation, Homoscedasticity)</p>
<p>&gt;&gt;</p>
<p>What is the base R function to run a linear regression?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">header =</span> T, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>), <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- df %&gt;% </span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate_if(is.character, factor)</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>linearmodel <span class="ot">&lt;-</span> <span class="fu">lm</span>(df<span class="sc">$</span>SleepTime <span class="sc">~</span> df<span class="sc">$</span>StudyTime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How can you print the “classic” table of regression parameter estimates, t-statistics, p-values from this linear regression?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linearmodel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = df$SleepTime ~ df$StudyTime)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.3587 -1.5299 -0.0658  1.3485  6.0557 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   9.40828    0.21739   43.28   &lt;2e-16 ***
df$StudyTime -0.29280    0.02699  -10.85   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.046 on 367 degrees of freedom
  (66 observations deleted due to missingness)
Multiple R-squared:  0.2428,    Adjusted R-squared:  0.2407 
F-statistic: 117.7 on 1 and 367 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>How can you plot the residuals from this linear regression?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>linearmodel.lm <span class="ot">=</span> <span class="fu">lm</span>(df<span class="sc">$</span>SleepTime <span class="sc">~</span> df<span class="sc">$</span>StudyTime)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>linearmod.res <span class="ot">=</span> <span class="fu">resid</span>(linearmodel.lm)</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">predict</span>(linearmodel.lm)</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod,linearmod.res,</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"resid"</span>, <span class="at">xlab =</span> <span class="st">"pred"</span>)</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="dv">0</span>,<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R_warmup_qt_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Re-do the linear regression after mean-centering the independent variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(df)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>StudyTime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.00    5.75    8.00    9.00   12.00   18.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>st <span class="ot">&lt;-</span> df<span class="sc">$</span>StudyTime <span class="sc">-</span> <span class="fu">mean</span>(df<span class="sc">$</span>StudyTime)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- df %&gt;%</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(st = df$StudyTime - mean(df$StudyTime))</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(df$st)</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>linearmodel.lm <span class="ot">=</span> <span class="fu">lm</span>(df<span class="sc">$</span>SleepTime <span class="sc">~</span> df<span class="sc">$</span>st)</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>linearmod.res <span class="ot">=</span> <span class="fu">resid</span>(linearmodel.lm)</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">predict</span>(linearmodel.lm)</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod,linearmod.res,</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"resid"</span>, <span class="at">xlab =</span> <span class="st">"pred"</span>)</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="dv">0</span>,<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R_warmup_qt_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="q12." class="level2">
<h2 class="anchored" data-anchor-id="q12.">Q12.</h2>
<p>If you do a linear regression of SleepTime (Y) on StudyTime and Rank (X), are the assumptions of linear regression met? (Linear relationship, Multivariate normality, No or little multicollinearity, No auto-correlation, Homoscedasticity)</p>
<p>&gt;&gt;</p>
<p>Run the model with Rank as a numeric variable. What terms are in the model?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">header =</span> T, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>), <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- df %&gt;% </span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate_if(is.character, factor)</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(df<span class="sc">$</span>SleepTime <span class="sc">~</span> df<span class="sc">$</span>StudyTime <span class="sc">+</span> df<span class="sc">$</span>Rank)</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = df$SleepTime ~ df$StudyTime + df$Rank)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.3489 -1.5185 -0.0797  1.3469  6.1154 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   9.47129    0.25466  37.191  &lt; 2e-16 ***
df$StudyTime -0.26786    0.03662  -7.314 1.73e-12 ***
df$Rank      -0.12370    0.14606  -0.847    0.398    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.05 on 356 degrees of freedom
  (76 observations deleted due to missingness)
Multiple R-squared:  0.2408,    Adjusted R-squared:  0.2366 
F-statistic: 56.46 on 2 and 356 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Run the model with Rank as an “ordered” variable. What terms are in the model?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use ordered() function for ordinal data</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>desc <span class="ot">&lt;-</span> <span class="fu">ordered</span>(df<span class="sc">$</span>Rank,</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>ord <span class="ot">&lt;-</span> <span class="fu">lm</span>(df<span class="sc">$</span>SleepTime <span class="sc">~</span> df<span class="sc">$</span>StudyTime <span class="sc">+</span> df<span class="sc">$</span>desc)</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ord)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = df$SleepTime ~ df$StudyTime + df$desc)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.5352 -1.4718 -0.1349  1.2298  6.5001 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   9.51849    0.34065  27.942  &lt; 2e-16 ***
df$StudyTime -0.29986    0.03752  -7.993 1.89e-14 ***
df$desc.L     0.28593    0.37294   0.767  0.44377    
df$desc.Q     0.76837    0.25394   3.026  0.00266 ** 
df$desc.C    -0.10619    0.21627  -0.491  0.62373    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.026 on 354 degrees of freedom
  (76 observations deleted due to missingness)
Multiple R-squared:  0.2628,    Adjusted R-squared:  0.2545 
F-statistic: 31.56 on 4 and 354 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Run the model with Rank as a “factor” variable. What terms are in the model?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co">#use factor() function for nominal data</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="co"># use ordered() function for ordinal data</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>fac <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Rank)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>fac <span class="ot">&lt;-</span> <span class="fu">lm</span>(df<span class="sc">$</span>SleepTime <span class="sc">~</span> df<span class="sc">$</span>StudyTime <span class="sc">+</span> df<span class="sc">$</span>fac)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fac)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = df$SleepTime ~ df$StudyTime + df$fac)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.5352 -1.4718 -0.1349  1.2298  6.5001 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   9.73461    0.24966  38.992  &lt; 2e-16 ***
df$StudyTime -0.29986    0.03752  -7.993 1.89e-14 ***
df$fac2      -0.73547    0.27027  -2.721  0.00682 ** 
df$fac3      -0.46514    0.32178  -1.446  0.14920    
df$fac4       0.33613    0.52065   0.646  0.51896    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.026 on 354 degrees of freedom
  (76 observations deleted due to missingness)
Multiple R-squared:  0.2628,    Adjusted R-squared:  0.2545 
F-statistic: 31.56 on 4 and 354 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>What are the differences between these 3 approaches?</p>
<p>&gt;&gt;</p>
<p>Re-do the regression after group-mean centering variable StudyTime about the means of the class rank groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/moira-du-monde/stats_consulting/main/tutorials/Sample_Dataset_2019.csv'</span>, <span class="at">header =</span> T, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">''</span>,<span class="st">'NA'</span>), <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Rank <span class="ot">&lt;-</span> <span class="fu">ordered</span>(df<span class="sc">$</span>Rank,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>group_mean <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(StudyTime <span class="sc">~</span> Rank, <span class="at">data =</span> df, mean)</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>group_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Rank StudyTime
1    1  4.791667
2    2  6.028302
3    3  9.210526
4    4 14.138889</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>r_1 <span class="ot">&lt;-</span> df[df<span class="sc">$</span>Rank <span class="sc">==</span> <span class="dv">1</span>,]</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>r_1<span class="sc">$</span>StudyTime <span class="ot">&lt;-</span> r_1<span class="sc">$</span>StudyTime <span class="sc">-</span> <span class="fl">4.791667</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>r_2 <span class="ot">&lt;-</span> df[df<span class="sc">$</span>Rank <span class="sc">==</span> <span class="dv">2</span>,]</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>r_2<span class="sc">$</span>StudyTime <span class="ot">&lt;-</span> r_2<span class="sc">$</span>StudyTime <span class="sc">-</span> <span class="fl">6.028302</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>r_3 <span class="ot">&lt;-</span> df[df<span class="sc">$</span>Rank <span class="sc">==</span> <span class="dv">3</span>,]</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>r_3<span class="sc">$</span>StudyTime <span class="ot">&lt;-</span> r_3<span class="sc">$</span>StudyTime <span class="sc">-</span> <span class="fl">9.210526</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>r_4 <span class="ot">&lt;-</span> df[df<span class="sc">$</span>Rank <span class="sc">==</span> <span class="dv">4</span>,]</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>r_4<span class="sc">$</span>StudyTime <span class="ot">&lt;-</span> r_4<span class="sc">$</span>StudyTime <span class="sc">-</span> <span class="fl">14.138889</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>ranked <span class="ot">&lt;-</span> <span class="fu">rbind</span>(r_1, r_2, r_3, r_4)</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>fit_rank <span class="ot">&lt;-</span> <span class="fu">lm</span>(ranked<span class="sc">$</span>SleepTime <span class="sc">~</span> ranked<span class="sc">$</span>StudyTime <span class="sc">+</span> ranked<span class="sc">$</span>Rank)</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_rank)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = ranked$SleepTime ~ ranked$StudyTime + ranked$Rank)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.5352 -1.4718 -0.1349  1.2298  6.5001 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       6.95701    0.12283  56.638  &lt; 2e-16 ***
ranked$StudyTime -0.29986    0.03752  -7.993 1.89e-14 ***
ranked$Rank.L    -1.80763    0.27189  -6.648 1.12e-10 ***
ranked$Rank.Q     0.21488    0.24565   0.875    0.382    
ranked$Rank.C    -0.09281    0.21625  -0.429    0.668    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.026 on 354 degrees of freedom
  (115 observations deleted due to missingness)
Multiple R-squared:  0.2628,    Adjusted R-squared:  0.2545 
F-statistic: 31.56 on 4 and 354 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if (df$Rank == 1) {df$st_adj &lt;- df$StudyTime - 4.791667</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co"># } else if (df$Rank == 2) {df$adj_st &lt;- df$StudyTime - 6.028302</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co"># } else if (df$Rank == 3) {df$adj_st &lt;- df$StudyTime - 9.210526</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># } else {df$adj_st &lt;- df$StudyTime - 14.138889}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>